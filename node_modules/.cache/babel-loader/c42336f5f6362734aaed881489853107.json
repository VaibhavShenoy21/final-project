{"ast":null,"code":"import _defineProperty from\"C:/project-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/project-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/project-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useHistory,Link}from\"react-router-dom\";import\"./Login.css\";import axios from'axios';import{toast}from'react-toastify';import{Alert}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={username:\"\",password:\"\"};var Login=function Login(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var username=state.username,password=state.password;var history=useHistory();var _useState3=useState(\"Enter Your Email and Password\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];axios.defaults.withCredentials=true;useEffect(function(){axios.get(\"https://backenddddd.herokuapp.com/api/login\").then(function(response){console.log(response);});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();axios.post(\"https://backenddddd.herokuapp.com/api/login\",{username:username,password:password}).then(function(response){if(response.data.message){setError(response.data.message);}else{toast.success(\"Logged in Successfully\");setTimeout(function(){return history.push(\"/board\");},500);}}).catch(function(response){return toast.error(response.data.message);});};var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsxs(\"form\",{style:{margin:\"auto\",padding:\"50px\",maxWidth:\"400px\",alignContent:\"center\",borderRadius:\"8px\",borderStyle:\"outset\"},onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\"},children:\"Login\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"username\",name:\"username\",placeholder:\"Your Email...\",onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Your Password...\",onChange:handleInputChange,required:true}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",style:{backgroundColor:\"blue\"},value:\"Log In\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"center\",children:[\"Not Registered? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"center\",children:[\"Visit our Homepage \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})]})]})});};export default Login;","map":{"version":3,"sources":["C:/project-app/client/src/pages/Auth/Login.js"],"names":["React","useEffect","useState","useHistory","Link","axios","toast","Alert","initialState","username","password","Login","state","setState","history","error","setError","defaults","withCredentials","get","then","response","console","log","handleSubmit","e","preventDefault","post","data","message","success","setTimeout","push","catch","handleInputChange","target","name","value","marginTop","margin","padding","maxWidth","alignContent","borderRadius","borderStyle","textAlign","backgroundColor"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {useHistory,Link} from \"react-router-dom\"\r\nimport \"./Login.css\"\r\nimport axios from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport {Alert} from '@mui/material'\r\n\r\nconst initialState = {\r\n    username: \"\",\r\n    password: \"\",\r\n}\r\n\r\nconst Login = () => {\r\n    const [state, setState] = useState(initialState);\r\n\r\n    const {username,password} = state;\r\n\r\n    const history = useHistory();\r\n\r\n    const [error,setError] = useState(\"Enter Your Email and Password\")\r\n\r\n    axios.defaults.withCredentials = true;\r\n\r\n    useEffect(()=>{\r\n      axios.get(\"https://backenddddd.herokuapp.com/api/login\").then((response)=>{\r\n        console.log(response);\r\n      })\r\n    }, [])\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n              axios.post(\"https://backenddddd.herokuapp.com/api/login\", {\r\n                  username,\r\n                  password,              \r\n              })\r\n              .then((response) => {\r\n                if (response.data.message){\r\n                  setError(response.data.message)\r\n                }\r\n                else {\r\n                  toast.success(\"Logged in Successfully\")        \r\n                  setTimeout(() => history.push(\"/board\"), 500);\r\n                }\r\n              })\r\n              .catch((response)=> toast.error(response.data.message))\r\n      }\r\n\r\n    const handleInputChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setState({ ...state, [name]: value })\r\n    }\r\n  return ( \r\n      <div style={{marginTop: \"100px\"}}>\r\n            <form style={{\r\n                margin: \"auto\",\r\n                padding: \"50px\",\r\n                maxWidth: \"400px\",\r\n                alignContent: \"center\",\r\n                borderRadius: \"8px\",\r\n                borderStyle: \"outset\"\r\n            }}\r\n            onSubmit={handleSubmit}\r\n            >\r\n              <h1 style={{textAlign: \"center\"}}>Login</h1>\r\n                <label>Email</label>\r\n                <input\r\n                type='email'\r\n                id='username'\r\n                name='username'\r\n                placeholder='Your Email...'\r\n                onChange={handleInputChange}\r\n                required\r\n                />\r\n                <label htmlFor='password'>Password</label>\r\n                <input\r\n                type='password'\r\n                id='password'\r\n                name='password'\r\n                placeholder='Your Password...'\r\n                onChange={handleInputChange}\r\n                required\r\n                />\r\n                {error && <Alert severity=\"error\">{error}</Alert>}\r\n                <input type=\"submit\" style={{backgroundColor: \"blue\"}} value=\"Log In\" />\r\n                <p className='center'>Not Registered? <Link to=\"/signup\">Signup</Link></p>\r\n                <p className='center'>Visit our Homepage <Link to=\"/\">Home</Link></p>\r\n            </form>\r\n            </div>\r\n            )    \r\n}\r\nexport default Login"]},"metadata":{},"sourceType":"module"}