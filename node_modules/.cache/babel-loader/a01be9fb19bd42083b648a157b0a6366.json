{"ast":null,"code":"import _defineProperty from\"C:/project-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/project-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/project-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useHistory,useParams,Link}from\"react-router-dom\";import\"./AddTodo.css\";import axios from'axios';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={title:\"\",des:\"\",status:\"\",useruser:\"\"};var AddDoing=function AddDoing(){axios.defaults.withCredentials=true;useEffect(function(){axios.get(\"sql6.freemysqlhosting.net/api/login\").then(function(response){console.log(response);});},[]);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),useruser=_useState2[0],setUser=_useState2[1];useEffect(function(){axios.get(\"sql6.freemysqlhosting.net/api/login\").then(function(response){if(response.data.loggedIn===true){setUser(response.data.user[0].username);console.log(setUser);}});},[]);var _useState3=useState(initialState),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var title=state.title,des=state.des,status=state.status;var history=useHistory();var _useParams=useParams(),id=_useParams.id;useEffect(function(){axios.get(\"sql6.freemysqlhosting.net/api/get/\".concat(id)).then(function(resp){return setState(_objectSpread({},resp.data[0]));});},[id]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(!title||!des){toast.error(\"Please provide value into each input field\");}else{if(!id){axios.post(\"sql6.freemysqlhosting.net/api/post2\",{title:title,des:des,status:status,useruser:useruser}).then(function(){setState({title:\"\",des:\"\",status:\"\",useruser:\"\"});}).catch(function(err){return toast.error(err.response.data);});toast.success(\"Card Added Successfully\");}else{axios.put(\"sql6.freemysqlhosting.net/api/update/\".concat(id),{title:title,des:des,status:status}).then(function(){setState({title:\"\",des:\"\",status:\"\"});}).catch(function(err){return toast.error(err.response.data);});toast.success(\"Card Edited Successfully\");}setTimeout(function(){return history.push(\"/board\");},500);}};var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"100px\"},children:/*#__PURE__*/_jsxs(\"form\",{style:{margin:\"auto\",padding:\"50px\",maxWidth:\"400px\",alignContent:\"center\"},onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",placeholder:\"Your Title...\",value:title||\"\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"des\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"textarea\",id:\"des\",name:\"des\",placeholder:\"Your Description...\",value:des||\"\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:id?\"Update\":\"Save\"}),/*#__PURE__*/_jsx(Link,{to:\"/board\",children:/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Go Back\"})})]})});};export default AddDoing;","map":{"version":3,"sources":["C:/project-app/client/src/pages/Add/AddDoing.js"],"names":["React","useEffect","useState","useHistory","useParams","Link","axios","toast","initialState","title","des","status","useruser","AddDoing","defaults","withCredentials","get","then","response","console","log","setUser","data","loggedIn","user","username","state","setState","history","id","resp","handleSubmit","e","preventDefault","error","post","catch","err","success","put","setTimeout","push","handleInputChange","target","name","value","marginTop","margin","padding","maxWidth","alignContent"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {useHistory, useParams, Link} from \"react-router-dom\"\r\nimport \"./AddTodo.css\"\r\nimport axios from 'axios'\r\nimport { toast } from 'react-toastify'\r\n\r\nconst initialState = {\r\n    title: \"\",\r\n    des: \"\",\r\n    status: \"\",\r\n    useruser: \"\",\r\n}\r\n\r\nconst AddDoing = () => {\r\n\r\n    axios.defaults.withCredentials = true;\r\n\r\n    useEffect(()=>{\r\n      axios.get(\"sql6.freemysqlhosting.net/api/login\").then((response)=>{\r\n        console.log(response);\r\n      })\r\n    }, [])\r\n\r\n    const [useruser,setUser] = useState('')\r\n\r\n    useEffect(()=>{\r\n      axios.get(\"sql6.freemysqlhosting.net/api/login\").then((response)=>{\r\n        if (response.data.loggedIn === true) {\r\n          setUser(response.data.user[0].username)\r\n          console.log(setUser);\r\n        }\r\n      })\r\n    }, [])\r\n    \r\n    const [state, setState] = useState(initialState);\r\n\r\n    const {title ,des ,status} = state;\r\n\r\n    const history = useHistory();\r\n\r\n    const {id} = useParams();\r\n\r\n    useEffect(()=>{\r\n        axios.get(`sql6.freemysqlhosting.net/api/get/${id}`).then((resp)=> setState({...resp.data[0]}))\r\n    }, [id])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(!title || !des) {\r\n            toast.error(\"Please provide value into each input field\")\r\n        } else {\r\n            if (!id) {\r\n                axios.post(\"sql6.freemysqlhosting.net/api/post2\", {\r\n                    title,\r\n                    des,\r\n                    status,\r\n                    useruser,\r\n                })\r\n                .then(() => {\r\n                    setState({title: \"\", des: \"\", status: \"\", useruser:\"\"});\r\n                })\r\n                .catch((err)=> toast.error(err.response.data))\r\n            toast.success(\"Card Added Successfully\") \r\n            } else {\r\n                axios.put(`sql6.freemysqlhosting.net/api/update/${id}`, {\r\n                title,\r\n                des,\r\n                status,\r\n            })\r\n            .then(() => {\r\n                setState({title: \"\", des: \"\", status: \"\"});\r\n            })\r\n            .catch((err)=> toast.error(err.response.data))\r\n        toast.success(\"Card Edited Successfully\")\r\n            }\r\n            \r\n        setTimeout(() => history.push(\"/board\"), 500);\r\n        }\r\n    }\r\n\r\n    const handleInputChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setState({ ...state, [name]: value })\r\n    }\r\n  return (\r\n    <div style={{marginTop: \"100px\"}}>\r\n        <form style={{\r\n            margin: \"auto\",\r\n            padding: \"50px\",\r\n            maxWidth: \"400px\",\r\n            alignContent: \"center\"\r\n        }}\r\n        onSubmit={handleSubmit}\r\n        >\r\n            <label htmlFor='title'>Title</label>\r\n            <input\r\n            type='text'\r\n            id='title'\r\n            name='title'\r\n            placeholder='Your Title...'\r\n            value={title || \"\"}\r\n            onChange={handleInputChange}\r\n            />\r\n            <label htmlFor='des'>Description</label>\r\n            <input\r\n            type='textarea'\r\n            id='des'\r\n            name='des'\r\n            placeholder='Your Description...'\r\n            value={des || \"\"}\r\n            onChange={handleInputChange}\r\n            />\r\n            <input type=\"submit\" value={id ? \"Update\" : \"Save\"} />\r\n            <Link to=\"/board\">\r\n                <input type=\"button\" value=\"Go Back\" />\r\n            </Link>\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\nexport default AddDoing"]},"metadata":{},"sourceType":"module"}